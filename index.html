import React, { useState, useEffect, createContext, useContext, useRef } from 'react';

// --- MOCK DATA (Unchanged) ---
const MOCK_COURSES = [
    { id: 1, title: 'Frontend Fundamentals', price: 499, level: 'Beginner', description: 'Master HTML, CSS, and JavaScript basics.', instructor: 'Ananya Sharma' },
    { id: 2, title: 'React Deep Dive', price: 4999, level: 'Advanced', description: 'Become a pro in React, hooks, and state management.', instructor: 'Rohan Verma' },
    { id: 3, title: 'Full-Stack with Firebase', price: 7999, level: 'Advanced', description: 'Build and deploy full-stack apps with Firebase.', instructor: 'Priya Patel' },
];

const MOCK_JOBS = [
    { id: 1, title: 'Frontend Developer Intern', company: 'Growth Co.', category: 'Web Dev', skill: 'React', duration: '3 Months' },
    { id: 2, title: 'UI/UX Design Freelancer', company: 'Designs.ai', category: 'Design', skill: 'Figma', duration: 'Project-based' },
    { id: 3, title: 'Content Writer', company: 'Blogify', category: 'Writing', skill: 'SEO', duration: '6 Months' },
    { id: 4, title: 'React Native Developer', company: 'MobileFirst', category: 'Web Dev', skill: 'React', duration: '4 Months' },
];

const MOCK_TESTIMONIALS = [
    { name: 'Sameer Singh', role: 'SDE at Amazon', text: 'Xperto\'s resume optimizer was a game-changer. The AI feedback helped me land my dream job!', image: `https://placehold.co/100x100/E2E8F0/4A5568?text=SS` },
    { name: 'Neha Gupta', role: 'Product Manager', text: 'The advanced courses are brilliant. The instructors are industry experts who provide real-world insights.', image: `https://placehold.co/100x100/E2E8F0/4A5568?text=NG` },
    { name: 'Vikram Rao', role: 'Freelance Designer', text: 'I found my first freelance gig through Xperto. The platform is incredibly easy to use and effective.', image: `https://placehold.co/100x100/E2E8F0/4A5568?text=VR` },
];


// --- ASSETS & ICONS (Redesigned with new color palette) ---
const Logo = () => (
    <svg className="h-8 w-auto text-gray-100" viewBox="0 0 170 50" xmlns="http://www.w3.org/2000/svg">
        <text x="0" y="36" fontFamily="Inter, system-ui, sans-serif" fontSize="38" fontWeight="bold" fill="currentColor">
            Xpert
        </text>
        <g transform="translate(118, 0)">
            {/* DESIGN UPDATE: Changed stroke colors from blue to the new poppy green */}
            <path d="M 25 2.5 A 22.5 22.5 0 1 1 2.5 25" stroke="#00C853" strokeWidth="3.5" fill="none" strokeLinecap="round" />
            <path d="M 25 47.5 A 22.5 22.5 0 1 1 47.5 25" stroke="#64ffda" strokeWidth="3.5" fill="none" strokeLinecap="round" />
            <circle cx="2.5" cy="25" r="4.5" fill="#00C853" />
            <circle cx="47.5" cy="25" r="4.5" fill="#64ffda" />
            <circle cx="25" cy="2.5" r="4.5" fill="white" />
        </g>
    </svg>
);

const CheckCircleIcon = () => (
    // DESIGN UPDATE: Changed color from blue to green
    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 text-[#00C853] mr-3 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
);

const AiOptimizerIcon = () => (
    // DESIGN UPDATE: Changed color from blue to green
    <svg xmlns="http://www.w3.org/2000/svg" className="w-full h-auto text-[#00C853]" fill="none" viewBox="0 0 64 64">
        <path stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M32 54.667c12.52 0 22.667-10.147 22.667-22.667S44.52 9.333 32 9.333 9.333 19.48 9.333 32 19.48 54.667 32 54.667z"></path>
        <path stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M26.667 32a5.333 5.333 0 1010.666 0 5.333 5.333 0 00-10.666 0zM32 42.667V48M32 16v-5.333M42.667 32H48M16 32h-5.333M40.533 23.467l3.734-3.734M19.733 44.267l3.734-3.734M40.533 40.533l3.734 3.734M19.733 19.733l3.734 3.734"></path>
    </svg>
);


// --- CONTEXT API for State Management (Unchanged) ---
const AppContext = createContext();

const AppProvider = ({ children }) => {
    const [page, setPage] = useState('home');
    const [user, setUser] = useState(null);
    const [loading, setLoading] = useState(false);
    const [notifications, setNotifications] = useState([]);

    useEffect(() => {
        const mockUser = null; 
        setUser(mockUser); 
    }, []);

    const showNotification = (message, type = 'success') => {
        const id = Date.now();
        setNotifications(prev => [...prev, { id, message, type }]);
        setTimeout(() => {
            setNotifications(prev => prev.filter(n => n.id !== id));
        }, 3000);
    };

    const value = { page, setPage, user, setUser, loading, setLoading, showNotification };

    return (
        <AppContext.Provider value={value}>
            {children}
            <NotificationCenter notifications={notifications} />
        </AppContext.Provider>
    );
};

// --- HOOKS (Unchanged) ---
const useAppContext = () => useContext(AppContext);


// --- CORE UI COMPONENTS (Redesigned) ---

const Header = () => {
    const { page, setPage, user } = useAppContext();
    const navItems = [
        { id: 'home', label: 'Home' },
        { id: 'courses', label: 'Courses' },
        { id: 'resume', label: 'Resume AI' },
        { id: 'freelance', label: 'Find Work' },
    ];
    return (
        // DESIGN UPDATE: Switched to a dark, blurred background for a modern feel.
        <header className="bg-black/50 backdrop-blur-md sticky top-0 z-40 border-b border-gray-800">
            <nav className="container mx-auto px-6 py-4 flex justify-between items-center">
                <div className="flex items-center cursor-pointer" onClick={() => setPage('home')}>
                    <Logo />
                </div>
                <div className="hidden md:flex items-center space-x-8">
                    {navItems.map(item => (
                        // DESIGN UPDATE: Updated text colors and active indicator to use the new green.
                        <button key={item.id} onClick={() => setPage(item.id)} className={`text-gray-300 hover:text-white transition-colors duration-300 relative group ${page === item.id ? 'font-semibold text-white' : ''}`}>
                            {item.label}
                             <span className={`absolute bottom-[-4px] left-0 w-full h-0.5 bg-[#00C853] transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ${page === item.id ? 'scale-x-100' : ''}`}></span>
                        </button>
                    ))}
                </div>
                <div className="flex items-center space-x-4">
                    {user ? (
                        <button onClick={() => setPage('dashboard')} className="px-5 py-2 text-sm font-medium text-black bg-[#00C853] rounded-lg hover:bg-green-400 focus:outline-none transition-all duration-300 hover:scale-105">Dashboard</button>
                    ) : (
                        <button onClick={() => setPage('login')} className="px-5 py-2 text-sm font-medium text-gray-200 bg-gray-800 rounded-lg border border-gray-700 hover:bg-gray-700 focus:outline-none transition-all duration-300 hover:scale-105">Login</button>
                    )}
                </div>
            </nav>
        </header>
    );
};

const Footer = () => (
    // DESIGN UPDATE: Dark footer matching the new theme.
    <footer className="bg-gray-900 text-white border-t border-gray-800">
        <div className="container mx-auto px-6 py-12">
            <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div>
                    <h3 className="font-bold text-lg mb-4">Xperto</h3>
                    <p className="text-gray-400 text-sm">Upskilling India's Future Workforce.</p>
                </div>
                <div>
                     <h3 className="font-semibold mb-4">Navigate</h3>
                     <ul className="space-y-2 text-gray-400 text-sm">
                         <li><a href="#" className="hover:text-[#00C853]">Courses</a></li>
                         <li><a href="#" className="hover:text-[#00C853]">Resume AI</a></li>
                         <li><a href="#" className="hover:text-[#00C853]">Find Work</a></li>
                     </ul>
                </div>
                <div>
                     <h3 className="font-semibold mb-4">Legal</h3>
                     <ul className="space-y-2 text-gray-400 text-sm">
                         <li><a href="#" className="hover:text-[#00C853]">Terms of Service</a></li>
                         <li><a href="#" className="hover:text-[#00C853]">Privacy Policy</a></li>
                     </ul>
                </div>
                 <div>
                     <h3 className="font-semibold mb-4">Connect</h3>
                     <ul className="space-y-2 text-gray-400 text-sm">
                         <li><a href="#" className="hover:text-[#00C853]">Twitter</a></li>
                         <li><a href="#" className="hover:text-[#00C853]">LinkedIn</a></li>
                     </ul>
                </div>
            </div>
             <div className="mt-12 border-t border-gray-700 pt-8 text-center text-gray-500 text-sm">
                <p>&copy; {new Date().getFullYear()} Xperto. All rights reserved.</p>
            </div>
        </div>
    </footer>
);

const NotificationCenter = ({ notifications }) => (
    <div className="fixed bottom-5 right-5 z-50 space-y-3">
        {notifications.map(n => (
            // DESIGN UPDATE: Brighter success/error colors for better contrast on dark theme.
            <div key={n.id} className={`px-4 py-3 rounded-lg shadow-lg text-white font-semibold animate-fade-in-up ${n.type === 'success' ? 'bg-green-600' : 'bg-red-600'}`}>
                {n.message}
            </div>
        ))}
    </div>
);

const Card = ({ children, className }) => (
    // DESIGN UPDATE: A dark card with a subtle border and an engaging green glow on hover.
    <div className={`bg-gray-900 rounded-2xl border border-gray-800 overflow-hidden transition-all duration-300 hover:border-[#00C853]/50 hover:shadow-[0_0_20px_rgba(0,200,83,0.3)] hover:-translate-y-2 ${className}`}>
        {children}
    </div>
);

// --- PAGES (Redesigned) ---

const HomePage = () => {
    const { setPage } = useAppContext();
    const partnerLogos = [ /* ...partnerLogos data... (unchanged) */ ];

    return (
        <div className="animate-fade-in">
            {/* Hero Section */}
            <section className="py-24 md:py-32 bg-black relative overflow-hidden">
                {/* DESIGN UPDATE: Added a subtle grid background for a techy feel */}
                <div className="absolute inset-0 bg-[url('data:image/svg+xml;utf8,<svg_xmlns=\"http://www.w3.org/2000/svg\"_viewBox=\"0_0_32_32\"_width=\"32\"_height=\"32\"_fill=\"none\"_stroke=\"rgb(156_163_175_/_0.1)\"><path_d=\"M0_.5H32V32\"/></svg>')]"></div>
                <div className="container mx-auto px-6 text-center relative">
                    <h1 className="text-5xl md:text-7xl font-extrabold text-white leading-tight">
                        Build Your Future,<br /> One <span className="text-[#00C853]">Skill</span> at a Time.
                    </h1>
                    <p className="mt-6 text-lg text-gray-400 max-w-2xl mx-auto">
                        Xperto is the ultimate platform for students to learn in-demand skills, optimize their career tools, and connect with real-world opportunities.
                    </p>
                    <div className="mt-10 flex flex-wrap justify-center gap-4">
                        <button onClick={() => setPage('courses')} className="px-8 py-3 text-lg font-semibold text-black bg-[#00C853] rounded-lg shadow-sm hover:bg-green-400 transform hover:scale-105 transition-all duration-300">
                            Explore Courses
                        </button>
                         <button onClick={() => setPage('resume')} className="px-8 py-3 text-lg font-semibold text-gray-200 bg-gray-800 border border-gray-700 rounded-lg shadow-sm hover:bg-gray-700 hover:border-gray-600 transform hover:scale-105 transition-all duration-300">
                            Optimize My Resume
                        </button>
                    </div>
                </div>
            </section>
            
            {/* Partner Companies Section */}
            {/* DESIGN UPDATE: Section background is slightly different from the main black for visual separation. */}
            <section className="py-12 bg-[#0A0A0A] border-y border-gray-800">
                <div className="container mx-auto px-6">
                    <h3 className="text-center text-lg font-medium text-gray-500 mb-8">Trusted by talent acquisition teams at top Indian startups</h3>
                    <div className="relative overflow-hidden group">
                        <div className="flex animate-marquee group-hover:[animation-play-state:paused]">
                             {[...partnerLogos, ...partnerLogos].map((p, i) => (
                                <div key={i} className="flex-shrink-0 w-48 mx-4 flex items-center justify-center grayscale opacity-40 hover:opacity-100 hover:grayscale-0 transition-all duration-300">
                                    {p.logo}
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            </section>
            
            {/* AI Optimizer Section */}
            <section className="py-24 bg-black">
                <div className="container mx-auto px-6">
                    <div className="grid md:grid-cols-2 gap-16 items-center">
                        <div className="max-w-md mx-auto">
                           <AiOptimizerIcon />
                        </div>
                        <div>
                            <h2 className="text-4xl font-bold text-white">Supercharge Your Career with <span className="text-[#00C853]">AI</span></h2>
                            <p className="mt-4 text-gray-400">Our AI-powered tool analyzes your Resume and LinkedIn profile against millions of data points to give you a competitive edge. Get past the resume screeners and land more interviews.</p>
                            <ul className="mt-6 space-y-4">
                                <li className="flex items-start"><CheckCircleIcon /><div><span className="font-semibold text-gray-200">ATS Optimization:</span> <span className="text-gray-400">Ensure your resume is parsed correctly by applicant tracking systems.</span></div></li>
                                <li className="flex items-start"><CheckCircleIcon /><div><span className="font-semibold text-gray-200">Keyword Analysis:</span> <span className="text-gray-400">We identify and suggest keywords tailored to your target job roles.</span></div></li>
                                <li className="flex items-start"><CheckCircleIcon /><div><span className="font-semibold text-gray-200">Impactful Metrics:</span> <span className="text-gray-400">Learn how to quantify your achievements to demonstrate your value.</span></div></li>
                            </ul>
                            <button onClick={() => setPage('resume')} className="mt-8 px-8 py-3 text-lg font-semibold text-black bg-[#00C853] rounded-lg shadow-sm hover:bg-green-400 transition-all duration-300">
                                Get Your Free Analysis
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            {/* Featured Courses Section */}
            <section className="py-24 bg-[#0A0A0A]">
                <div className="container mx-auto px-6">
                    <div className="text-center max-w-3xl mx-auto">
                        <h2 className="text-4xl font-bold text-white">Explore Our Top Courses</h2>
                        <p className="mt-4 text-gray-400">Curated programs designed to teach you the most in-demand skills for today's job market. Learn by building real-world projects.</p>
                    </div>
                    <div className="grid md:grid-cols-3 gap-8 mt-16">
                        {MOCK_COURSES.slice(0, 3).map(course => (
                            <Card key={course.id} className="flex flex-col">
                                <div className="p-6 flex-grow">
                                    <p className="text-sm font-semibold text-[#00C853]">{course.level}</p>
                                    <h3 className="text-xl font-bold mt-2 text-white">{course.title}</h3>
                                    <p className="text-gray-400 mt-2 text-sm">{course.description}</p>
                                </div>
                                <div className="p-6 border-t border-gray-800">
                                    <button onClick={() => setPage('courses')} className="w-full py-2 font-semibold text-[#00C853] bg-green-500/10 rounded-lg hover:bg-green-500/20 transition-colors">
                                        Learn More
                                    </button>
                                </div>
                            </Card>
                        ))}
                    </div>
                </div>
            </section>

            {/* Offerings Section */}
            <section className="py-24 bg-black">
                <div className="container mx-auto px-6">
                    <div className="text-center max-w-3xl mx-auto">
                        <h2 className="text-4xl font-bold text-white">Everything You Need to Succeed</h2>
                        <p className="mt-4 text-gray-400">From learning to earning, we've got you covered at every step of your career journey.</p>
                    </div>
                    <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mt-16">
                        <Card><div className="p-8"><h3 className="text-xl font-bold mb-2 text-white">AI Career Tools</h3><p className="text-gray-400 text-sm">Optimize your resume and LinkedIn profile to stand out.</p></div></Card>
                        <Card><div className="p-8"><h3 className="text-xl font-bold mb-2 text-white">Expert-Led Courses</h3><p className="text-gray-400 text-sm">Learn in-demand skills from industry professionals.</p></div></Card>
                        <Card><div className="p-8"><h3 className="text-xl font-bold mb-2 text-white">Mock Interviews</h3><p className="text-gray-400 text-sm">Practice with AI and human experts to ace any interview.</p></div></Card>
                        <Card><div className="p-8"><h3 className="text-xl font-bold mb-2 text-white">Freelance Gigs</h3><p className="text-gray-400 text-sm">Apply for part-time work to build real experience.</p></div></Card>
                    </div>
                </div>
            </section>

            {/* Testimonials Section */}
            <section className="py-24 bg-[#0A0A0A]">
                <div className="container mx-auto px-6">
                    <div className="text-center max-w-3xl mx-auto">
                        <h2 className="text-4xl font-bold text-white">Trusted by Ambitious Learners</h2>
                         <p className="mt-4 text-gray-400">See how Xperto has impacted the careers of students just like you.</p>
                    </div>
                    <div className="grid md:grid-cols-3 gap-8 mt-16">
                        {MOCK_TESTIMONIALS.map(t => (
                            <Card key={t.name} className="p-8">
                                <p className="text-gray-300 italic mb-6">"{t.text}"</p>
                                <div className="flex items-center">
                                    <img src={t.image} alt={t.name} className="w-12 h-12 rounded-full mr-4" />
                                    <div>
                                        <p className="font-bold text-white">{t.name}</p>
                                        <p className="text-sm text-gray-500">{t.role}</p>
                                    </div>
                                </div>
                            </Card>
                        ))}
                    </div>
                </div>
            </section>
            
            {/* FAQ Section */}
            <section className="py-24 bg-black">
                <div className="container mx-auto px-6 max-w-3xl">
                     <div className="text-center max-w-3xl mx-auto">
                        <h2 className="text-4xl font-bold text-white">Frequently Asked Questions</h2>
                    </div>
                    <div className="space-y-6 mt-12">
                        <div>
                            <h4 className="font-semibold text-lg text-gray-200">Who are the courses for?</h4>
                            <p className="text-gray-400 mt-1">Our courses are designed for students and early-career professionals looking to upskill in tech and business domains.</p>
                        </div>
                        <div className="border-t border-gray-800 my-4"></div>
                        <div>
                            <h4 className="font-semibold text-lg text-gray-200">Is the resume analysis really free?</h4>
                            <p className="text-gray-400 mt-1">Yes, the initial analysis report is completely free. You only pay for the detailed, AI-powered optimization suggestions.</p>
                        </div>
                    </div>
                </div>
            </section>

            {/* CTA Section */}
            <section className="py-24 bg-[#0A0A0A]">
                <div className="container mx-auto px-6 text-center">
                    <h2 className="text-4xl font-bold text-white">Ready to Elevate Your Career?</h2>
                    <p className="text-gray-400 mt-4 max-w-xl mx-auto">Join thousands of students on their journey to success. Your next big opportunity is just a click away.</p>
                     <button onClick={() => setPage('login')} className="mt-8 px-8 py-3 text-lg font-semibold text-black bg-[#00C853] rounded-lg shadow-lg shadow-green-500/20 hover:bg-green-400 transform hover:scale-105 transition-all duration-300">
                        Sign Up for Free
                    </button>
                </div>
            </section>
        </div>
    );
};

// ... Placeholder Pages (functionality remains) ...
const ResumeOptimizerPage = () => null;
const CoursesPage = () => null;
const FreelancePage = () => null;
const LoginPage = () => null;
const DashboardPage = () => null;

// --- FIREBASE CONFIG (Placeholder - Unchanged) ---
const firebaseConfig = { /* ... */ };

// --- Main App Component ---
function App() {
    return (
        <AppProvider>
            <CustomCursor />
            <MainContent />
        </AppProvider>
    );
}

const CustomCursor = () => {
    const cursorRef = useRef(null);
    useEffect(() => {
        if (cursorRef.current) {
            const moveCursor = (e) => {
                cursorRef.current.style.left = `${e.clientX}px`;
                cursorRef.current.style.top = `${e.clientY}px`;
            };
            window.addEventListener('mousemove', moveCursor);
            return () => window.removeEventListener('mousemove', moveCursor);
        }
    }, []);

    // DESIGN UPDATE: Changed cursor color to match the new branding
    return <div ref={cursorRef} className="custom-cursor"></div>
}

const MainContent = () => {
    const { page } = useAppContext();

    const renderPage = () => {
        switch (page) {
            case 'home': return <HomePage />;
            case 'courses': return <CoursesPageThemed />;
            case 'resume': return <ResumeOptimizerPageThemed />;
            case 'freelance': return <FreelancePageThemed />;
            case 'login': return <LoginPageThemed />;
            case 'dashboard': return <DashboardPageThemed />;
            default: return <HomePage />;
        }
    };
    
    return (
        // DESIGN UPDATE: Changed global background, font, and text colors. Added new animations.
        <div className="bg-black font-sans text-gray-300">
            <style>{`
                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
                body { font-family: 'Inter', sans-serif; cursor: none; background-color: #000; }
                .custom-cursor {
                    position: fixed;
                    width: 24px;
                    height: 24px;
                    border: 2px solid #00C853;
                    border-radius: 50%;
                    pointer-events: none;
                    transform: translate(-50%, -50%);
                    transition: width 0.2s, height 0.2s, background-color 0.2s;
                    z-index: 9999;
                }
                button:hover ~ .custom-cursor, a:hover ~ .custom-cursor {
                     width: 40px;
                     height: 40px;
                     background-color: rgba(0, 200, 83, 0.1);
                }
                @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
                .animate-marquee { animation: marquee 30s linear infinite; }
                
                /* Added a new animation for scroll effects */
                @keyframes slide-in-up {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-slide-in-up {
                    animation: slide-in-up 0.6s ease-out forwards;
                }
            `}</style>
            <Header />
            <main>
                {renderPage()}
            </main>
            <Footer />
        </div>
    );
}

// --- THEMED PAGES (RE-IMPLEMENTED WITH NEW STYLES) ---

const ResumeOptimizerPageThemed = () => {
    const [file, setFile] = useState(null);
    const [report, setReport] = useState(null);
    const [isUnlocked, setIsUnlocked] = useState(false);
    const { loading, setLoading, showNotification } = useAppContext();

    const handleAnalyze = () => {
        if (!file) { showNotification('Please upload a resume file first.', 'error'); return; }
        setLoading(true);
        setTimeout(() => {
            setReport({ score: 78, summary: 'Good start, but lacks strong action verbs...' });
            setLoading(false);
            showNotification('Free analysis complete!');
        }, 2000);
    };
    
    const handleUnlock = () => {
        setLoading(true);
        setTimeout(() => {
            setIsUnlocked(true);
            setLoading(false);
            showNotification('Payment successful! Suggestions unlocked.');
        }, 1500);
    };
    
    return (
        <div className="container mx-auto px-6 py-20 animate-fade-in">
            <div className="max-w-3xl mx-auto text-center">
                <h1 className="text-5xl font-bold text-white">AI Resume Optimizer</h1>
                <p className="mt-4 text-gray-400">Upload your Resume (PDF) to get a free, instant analysis from our advanced AI.</p>
            </div>
            <div className="max-w-2xl mx-auto mt-12">
                <Card className="p-8">
                    <input type="file" accept=".pdf" onChange={(e) => setFile(e.target.files[0])} className="block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-gray-800 file:text-gray-300 hover:file:bg-gray-700"/>
                    {file && <p className="mt-4 text-sm text-gray-500">Selected: {file.name}</p>}
                    <button onClick={handleAnalyze} disabled={loading || !file} className="mt-6 w-full py-3 font-semibold text-black bg-[#00C853] rounded-lg hover:bg-green-400 disabled:bg-gray-600 disabled:cursor-not-allowed">
                        {loading ? 'Analyzing...' : 'Get Free Analysis'}
                    </button>
                </Card>
                {report && (
                    <Card className="mt-8 p-8 animate-slide-in-up">
                        <h2 className="text-2xl font-bold mb-4 text-white">Your Free Analysis</h2>
                        <p className="text-7xl font-bold text-[#00C853] text-center my-4">{report.score}<span className="text-4xl text-gray-500">/100</span></p>
                        <p className="font-semibold mt-6 mb-2 text-gray-200">Summary:</p>
                        <p className="text-gray-400 mb-4">{report.summary}</p>
                        {!isUnlocked && (
                            <div className="mt-8 p-6 bg-gray-800/50 rounded-lg text-center border border-gray-700">
                                <h3 className="text-xl font-bold text-white">Unlock Detailed AI Suggestions</h3>
                                <p className="text-gray-400 text-sm mt-1">Get line-by-line feedback to land your dream job.</p>
                                <button onClick={handleUnlock} disabled={loading} className="mt-4 px-6 py-2 font-semibold text-black bg-green-500 rounded-lg hover:bg-green-600 disabled:bg-gray-600">Unlock for ₹49</button>
                            </div>
                        )}
                    </Card>
                )}
            </div>
        </div>
    );
};

const CoursesPageThemed = () => {
    const { showNotification } = useAppContext();
    const handlePurchase = (course) => { showNotification(`Enrolled in ${course.title}!`); };
    return (
        <div className="container mx-auto px-6 py-20 animate-fade-in">
             <div className="max-w-3xl mx-auto text-center">
                <h1 className="text-5xl font-bold text-white">Our Courses</h1>
                <p className="mt-4 text-gray-400">Invest in yourself. Learn from the best in the industry.</p>
            </div>
            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-16">
                {MOCK_COURSES.map(course => (
                    <Card key={course.id} className="flex flex-col">
                        <div className="p-6 flex-grow">
                            <p className="text-sm font-semibold text-[#00C853]">{course.level}</p>
                            <h3 className="text-2xl font-bold mt-2 text-white">{course.title}</h3>
                            <p className="text-gray-400 mt-2">{course.description}</p>
                        </div>
                        <div className="p-6 bg-gray-950/70 border-t border-gray-800">
                            <p className="text-3xl font-bold text-white">₹{course.price}</p>
                            <button onClick={() => handlePurchase(course)} className="w-full mt-4 py-3 font-semibold text-black bg-[#00C853] rounded-lg hover:bg-green-400">Enroll Now</button>
                        </div>
                    </Card>
                ))}
            </div>
        </div>
    );
};

const FreelancePageThemed = () => {
    const { showNotification } = useAppContext();
    const handleApply = (job) => { showNotification(`Applied for ${job.title}!`); };
    return (
        <div className="container mx-auto px-6 py-20 animate-fade-in">
            <div className="max-w-3xl mx-auto text-center">
                <h1 className="text-5xl font-bold text-white">Find Freelance & Part-Time Work</h1>
                <p className="mt-4 text-gray-400">Gain real-world experience and earn while you learn.</p>
            </div>
            <div className="space-y-6 max-w-4xl mx-auto mt-16">
                {MOCK_JOBS.map(job => (
                    <Card key={job.id} className="p-6 flex flex-col md:flex-row justify-between items-center hover:border-[#00C853]">
                        <div>
                            <h3 className="text-xl font-bold text-white">{job.title}</h3>
                            <p className="text-gray-400">{job.company}</p>
                        </div>
                        <button onClick={() => handleApply(job)} className="mt-4 md:mt-0 px-6 py-2 font-semibold text-black bg-[#00C853] rounded-lg hover:bg-green-400">Apply Now</button>
                    </Card>
                ))}
            </div>
        </div>
    );
};

const LoginPageThemed = () => {
    const { setUser, setPage, showNotification } = useAppContext();
    const handleLogin = (e) => {
        e.preventDefault();
        setUser({ email: 'student@xperto.com' });
        setPage('dashboard');
        showNotification('Login successful!');
    };
    return (
        <div className="container mx-auto px-6 py-20 flex justify-center items-center">
            <Card className="max-w-md w-full p-8 border border-gray-800">
                <h2 className="text-2xl font-bold text-center mb-6 text-white">Login to Xperto</h2>
                <form onSubmit={handleLogin} className="space-y-4">
                    <input type="email" placeholder="Email" required className="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-[#00C853] focus:border-transparent"/>
                    <input type="password" placeholder="Password" required className="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-[#00C853] focus:border-transparent"/>
                    <button type="submit" className="w-full py-3 font-semibold text-black bg-[#00C853] rounded-lg hover:bg-green-400">Login</button>
                </form>
            </Card>
        </div>
    );
};

const DashboardPageThemed = () => {
    const { user, setUser, setPage } = useAppContext();
    if (!user) { setPage('login'); return null; }
    const handleLogout = () => { setUser(null); setPage('home'); };
    // Assuming some mock data for the dashboard
    const userCourses = MOCK_COURSES.filter(c => c.id === 2);
    return (
        <div className="container mx-auto px-6 py-20 animate-fade-in">
             <div className="flex justify-between items-center">
                <h1 className="text-5xl font-bold text-white">Dashboard</h1>
                <button onClick={handleLogout} className="text-sm text-red-500 hover:underline">Logout</button>
            </div>
            <div className="grid md:grid-cols-2 gap-8 mt-12">
                <Card className="p-6"><h2 className="text-2xl font-bold mb-4 text-white">My Courses</h2>
                    {userCourses.length > 0 ? <ul className="space-y-3 text-gray-300">{userCourses.map(c => <li key={c.id}>{c.title}</li>)}</ul> : <p>No courses yet.</p>}
                </Card>
                <Card className="p-6"><h2 className="text-2xl font-bold mb-4 text-white">My Applications</h2><p>No applications yet.</p></Card>
            </div>
        </div>
    );
};


export default App;
